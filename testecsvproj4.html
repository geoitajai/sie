<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
    <link rel="stylesheet" href="lib/leaflet.css" />
</head>

<style>
    body {
        margin: 0;
        padding: 0;
    }

    #map {
        position: absolute;
        top: 0;
        bottom: 0;
        width: 100%;
    }
</style>

<body>
    <div id="map"></div>

    <script src="lib/leaflet.js"></script>
    <script src="lib/leaflet-omnivore.min.js"></script>
    <script src="lib/jquery-3.3.1.min.js"></script>
    <script src="lab/geojson.js"></script>
    <script src="https://npmcdn.com/csv2geojson@latest/csv2geojson.js"></script>

    <script>
        //div do mapa
        var map = L.map('map').setView([-26.9046, -48.6874], 13);

        new L.TileLayer('http://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}', {
            opacity: 0.6,
            maxZoom: 19,
            transparent: false,
            subdomains: ['mt0', 'mt1', 'mt2', 'mt3']
        }).addTo(map);

        //teste
        L.geoJSON(mapdot).addTo(map);

        //teste csv
		$.ajax({
			type: "GET",
			url: "https://docs.google.com/spreadsheets/d/e/2PACX-1vRv4zc9nsq8vTdV7-X0rLq9Qm9bE29dwzQ_vf7VY2Xyt63C1gr1Jl-r9Dzdri5qqWgGH9gIo_FheFIv/pub?gid=0&single=true&output=tsv",
			dataType: "text",
			success: function (data) {
                csv2geojson.csv2geojson(data,
                {
                    latfield: 'latitude',
                    lonfield: 'longitude',
                    delimiter: '\t'
                },
                function(err, dados) {
                    let geodata = L.geoJSON(dados)addTo(map);
                    console.log(geodata);
                });
            }
        });

    </script>
</body>

</html>